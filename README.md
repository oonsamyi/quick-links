# Сервис коротких ссылок

## Алгоритм работы
1. Пользователь вставляет любую ссылку в поле ввода и нажимает кнопку "Создать короткую ссылку"
2. Под полем ввода отобразится укороченная ссылка, которую можно скопировать с помощью кнопки "Копировать"
3. Пользователь вставляет укороченную ссылку в строку поиска браузера, происходит редирект на искомую ссылку, указанную на шаге 1

## Запуск проекта
Требования:
- Node.js >= v16.13.1
- MongoDB >= v5.0.5

1. Клонируем проект и переходим в папку с проектом:
```console
git clone git@github.com:oonsamyi/quick-links.git && cd quick-links
```
2. Создаем файл с именем `.env` в корне проекта, добавляем следующие переменные окружения:
```bash
SERVER_PORT=8080 # порт, на котором запустится приложение
SERVER_HOST=0.0.0.0 # хост, на котором запустится приложение
MONGODB_URL=mongodb://localhost:27017/quick-links # URL для подключения к MongoDB
```
3. Устанавливаем зависимости проекта:
```console
npm i
```
4. Запускаем проект

в режиме разработки:
```console
npm run dev
```
либо в боевом режиме:
```console
npm run prod
```
## Основные команды
- `npm run dev` - запуск проекта в режиме development
- `npm run prod` - запуск проекта в режиме production
- `npm run build` - сборка проекта. Проект собирается в папку dist
- `npm run check` - запуск проверки ESlint и TypeScript
- `npm run gen` - генерация GraphQL-cхемы, TypeScript типов, API для фронтенда
- `npm run debug` - запуск Nest.js в дебаг режиме
- `npm run analyze` - анализ сборки фронтенда (подключенные пакеты и чанки проекта, общий размер бандла и т.д.)

## Технологии
- TypeScript - языковая надстройка над JavaScript, на которой написаны бэкенд и фронтенд

### Бэкенд
- Nest.js - фреймворк, на котором построен бэкенд
- GraphQL - способ общения бэкенда и фронтенда
- MongoDB - база данных
- Mongoose - ODM для базы данных

### Фронтенд
- Next.js - фреймворк, на котором построен фронтенд
- React - библиотека, на которой написаны UI компоненты
- Unstated-next - библиотека управления состоянием компонентов, также используется для отделения логики компонентов от их отображения
- Graphql-zeus - протипизированный клиент для GraphQL

## Архитектура
`src/server` - бэкенд, написанный на Nest.js

`src/clinet` - фронтенд, написанный на Next.js

`src/shared` - общий код бэкенда и фронтенда

`src/scripts` - скрипты:
- автогенерация GraphQL-cхемы
- автогенерация TypeScript типов из GraphQL-схемы для бэкенда
- автогенерация API и TypeScript типов из GraphQL-схемы для фронтенда
